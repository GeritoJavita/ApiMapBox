<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="utf-8">
  <title>Mapa Interactivo Bogot√°</title>
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
  <link href="https://api.mapbox.com/mapbox-gl-js/v3.15.0/mapbox-gl.css" rel="stylesheet">
  <script src="https://api.mapbox.com/mapbox-gl-js/v3.15.0/mapbox-gl.js"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: "Segoe UI", sans-serif;
    }

    #map {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 100%;
    }

    .map-controls {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 1;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .map-controls button {
      background: #fff;
      border: none;
      border-radius: 6px;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
      transition: background 0.2s;
    }

    .map-controls button:hover {
      background: #f0f0f0;
    }
  </style>
</head>

<body>
  <div id="map"></div>

  <div class="map-controls">
    <button onclick="zoomIn()">üîç Zoom In</button>
    <button onclick="zoomOut()">üîé Zoom Out</button>
    <button onclick="goToLocation()">üìç Mi Ubicaci√≥n</button>
    <button onclick="toggleStyle()">üó∫Ô∏è Cambiar Estilo</button>
  </div>

  <script>
    mapboxgl.accessToken = 'pk.eyJ1IjoibWFwYm94ZGllZ28wMTYiLCJhIjoiY21nNXJteXF2MDg2ZjJqcTRhaXRnbXM4ZyJ9.fQ-ZdM9lekGoKReBp5x40Q';

    const map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/mapbox/streets-v12',
      center: [-74.08175, 4.60971], // Bogot√° centro
      zoom: 12
    });

    // --- 10 puntos de inter√©s en Bogot√° ---
    const puntosInteres = [
      { coords: [-74.0555, 4.6056], nombre: "Plaza de Bol√≠var" },
      { coords: [-74.0672, 4.6016], nombre: "Museo del Oro" },
      { coords: [-74.0561, 4.6019], nombre: "Museo Botero" },
      { coords: [-74.0565, 4.5981], nombre: "Chorro de Quevedo" },
      { coords: [-74.0589, 4.6050], nombre: "Catedral Primada" },
      { coords: [-74.0617, 4.6101], nombre: "Monserrate (acceso)" },
      { coords: [-74.0942, 4.6584], nombre: "Parque Sim√≥n Bol√≠var" },
      { coords: [-74.0935, 4.6812], nombre: "Jard√≠n Bot√°nico" },
      { coords: [-74.0429, 4.6935], nombre: "Zona T (Zona Rosa)" },
      { coords: [-74.0467, 4.7001], nombre: "Parque de la 93" }
    ];

    puntosInteres.forEach(p => {
      new mapboxgl.Marker()
        .setLngLat(p.coords)
        .setPopup(new mapboxgl.Popup().setHTML(`<b>${p.nombre}</b>`))
        .addTo(map);
    });

    // --- Funcionalidades extra ---
    function zoomIn() {
      map.zoomIn();
    }

    function zoomOut() {
      map.zoomOut();
    }

    function goToLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(pos => {
          map.flyTo({
            center: [pos.coords.longitude, pos.coords.latitude],
            zoom: 14
          });

          new mapboxgl.Marker({ color: "red" })
            .setLngLat([pos.coords.longitude, pos.coords.latitude])
            .setPopup(new mapboxgl.Popup().setHTML("<b>Est√°s aqu√≠</b>"))
            .addTo(map);
        });
      } else {
        alert("La geolocalizaci√≥n no est√° disponible en este navegador.");
      }
    }

    let isSatellite = false;
    function toggleStyle() {
      if (isSatellite) {
        map.setStyle('mapbox://styles/mapbox/streets-v12');
      } else {
        map.setStyle('mapbox://styles/mapbox/satellite-v9');
      }
      isSatellite = !isSatellite;
    }
  </script>
</body>

</html>
